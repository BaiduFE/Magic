<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="description" content="Carousel 组件" />
        <title>Carousel 组件 --- 常用事件</title>
        <link rel="stylesheet" type="text/css" href="../../demos/common/demo.css"/>
        <link rel="stylesheet" type="text/css" href="../../resources/default/common/common.css"/>
        <link rel="stylesheet" type="text/css" href="../../resources/default/magic.control.Carousel/magic.control.Carousel.css"/>
		<style type='text/css'>
			.tang-carousel {
				margin:20px auto;
			    width: 644px;
    			height: 140px;
			}
			.tang-carousel .tang-carousel-container ul,
			.tang-carousel .tang-carousel-container ul li,
			.tang-carousel .tang-carousel-container ul li img {margin: 0px; padding: 0px;}
		</style>
        <script>
            function log(type, msg){
                baidu.dom('#J_console').insertHTML('afterBegin', '<p><span class="' + type + '">' + type + '</span>' + msg + '</p>');
            }
        </script>
        <script type="text/javascript" src='../../src/import.php?f=magic.Carousel.$button,magic.control.Carousel.$fx'></script>
    </head>
    <body>
        <div class="content">
            <div class="demo-list">
                <h3>Demo列表</h3>
                <ul>
                	<li><a href="../../demos/Carousel/render.html">render 模式</a></li>
                	<li><a href="../../demos/Carousel/setup.html">setup 模式</a></li>
                	<li><a href="../../demos/Carousel/button.html">前后按钮插件示例</a></li>
                    <li><a href="../../demos/Carousel/fx.html">动画插件示例</a></li>
                    <li><a href="../../demos/Carousel/autoScroll.html">自动滚动插件示例</a></li>
                	<li><a href="../../demos/Carousel/vertical.html">垂直滚动</a></li>
                	<li><a href="../../demos/Carousel/step.html">step</a></li>
                	<li><a href="../../demos/Carousel/focusRange.html">focusRange</a></li>
                	<li><a href="../../demos/Carousel/event.html">常用事件</a></li>
                	<li><a href="../../demos/Carousel/method.html">常用方法</a></li>
                </ul>
            </div>
            <div class="main-wrap">
                <div class="demo-wrap">
                    <h3>Carousel 组件 --- 事件示例</h3>
                    <p>carousel 内核程序支持四个事件分别是onclickitem，onmouseoveritem，onmouseoutitem，onfocus，注册事件例如：carousel.on('onclickitem', function(evt){}); 从evt参数中，可以通过evt.DOMEvent来取得触发事件时的浏览器事件对象，通过evt.index来取得触发事件时的目标滚动项。</p>
    				<p>该范例注册了onclickitem事件，请在范例中点击某个滚动项来弹出对话框测试事件：</p>
                    <div class="demo-view">
                    </div>
                </div>
               	<div id='one-carousel'></div>
                <div class="console-wrap">
                    <h3>控制台</h3>
                    <div id="J_console" class="console"></div>
                </div>
            </div>
        </div>

        <script>
		    var c = new magic.Carousel({
		        viewSize: 4,
		        originalIndex: 0,
		        isLoop: true,
		        items: [
		            {content: '<img src="../../demos/Carousel/item/0.png"/>'},
		            {content: '<img src="../../demos/Carousel/item/1.png"/>'},
		            {content: '<img src="../../demos/Carousel/item/2.png"/>'},
		            {content: '<img src="../../demos/Carousel/item/3.png"/>'},
		            {content: '<img src="../../demos/Carousel/item/4.png"/>'},
		            {content: '<img src="../../demos/Carousel/item/5.png"/>'},
		            {content: '<img src="../../demos/Carousel/item/6.png"/>'}
		        ]
		    });
		    c.render('one-carousel');
		    c.on('clickitem', function(evt){
		        log('event', "<b>onclickitem</b> : 第 <b>"+evt.index+"</b> 项");
		    });
		    c.on('mouseoveritem', function(evt){
		        log('event', "<b>onmouseoveritem</b> : 第 <b>"+evt.index+"</b> 项");
		    });
		    c.on('mouseoutitem', function(evt){
		        log('event', "<b>onmouseoutitem</b> : 第 <b>"+evt.index+"</b> 项");
		    });
		    c.on('focus', function(evt){
		        log('event', "<b>onfocus</b> : 当次的滚动方向为：<b>" + evt.direction + "</b>"+"， 焦点位于第 <b>"+c.getCurrentIndex()+"</b> 项");
		    });
        </script>
    </body>
</html>
