<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="description" content="选项卡组件">
        <title>items</title>
        <link rel="stylesheet" type="text/css" href="../../demos/common/demo.css">
        <script type="text/javascript" src="http://fe.bdimg.com/tangram/2.0.1.2.js"></script>
        <script type="text/javascript" src="../../demos/common/demo.js"></script>
        <link rel="stylesheet" type="text/css" href="../../resources/default/common/common.css">
        <link rel="stylesheet" type="text/css" href="../../resources/default/magic.control.Tab/magic.control.Tab.css">
		<style type='text/css'>
			.tang-tab {
			    margin:20px 0;
			}
			.tang-tab .tang-body .tang-body-item{
			    height: 50px;
			    border: #a9a9a9 solid 1px;
			    border-top: none;
			    padding: 5px;
			}
			
			.tab-container {
				margin-bottom : 20px;
			}
			
			.tab-container .tab-title {
				font-weight : bold;
				font-size : 13px;
				padding : 0;
				margin : 5px;
			}
			.try-main .tang-tab ul,
			.try-main .tang-tab ul li {
			    list-style:none;
			    margin: 0px;
			    padding: 0px;
			}
		</style>
        <script type="text/javascript" src='../../src/import.php?f=magic.Tab'></script>
    </head>
    <body>
        <div class="content">
            <div class="demo-list">
                <h3>Demo列表</h3>
            </div>
            <div class="main-wrap">
                <div class="demo-wrap">
                    <h3>选项卡组件 --- items 示例</h3>
                    <p>数据项，配置要生成的选项卡的相关信息，分为 tittle 和 content 两部分</p>
                </div>
                <div class="demo-view">                            
                    <p class="item">
                        <label>title: <input type="text" class="input_title" value="选项卡标题1"></label>
                        <label>content: <input type="text" class="input_content" value="选项卡内容1"></label>
                    </p>
                    <p class="item">
                        <label>title: <input type="text" class="input_title" value="选项卡标题2"></label>
                        <label>content: <input type="text" class="input_content" value="选项卡内容2"></label>
                    </p>
                    <p id="tab-func">
                        <button id="render">生成</button>
                        <button id="add">再增加一项</button>
                    </p>
                </div>
               	<div id='tab'></div>
                <div class="console-wrap">
                    <h3>控制台</h3>
                    <div id="J_console" class="console"></div>
                </div>
            </div>
        </div>

        <script>
        	var instance = null;
        	baidu('#add').click(function(){
        		var html = '<p class="item"><label>title: <input type="text" class="input_title" value="选项卡标题'+(baidu('.item').size()+1)+'"></label><label>content: <input type="text" class="input_content" value="选项卡内容'+(baidu('.item').size()+1)+'"></label></p>';
        		baidu('#tab-func').insertHTML('beforeBegin',html);
        		if(baidu('.item').size() > 4)
        			baidu('#add').get(0).disabled = true;
        	});
        	
        	function renderTab(items){
        		var options = {
			        items: items
			    }
			    instance = new magic.Tab(options);
				instance.render('tab');
        	}
        	
        	baidu('#render').click(function(){
        		var items = [];
        		var title = baidu('.input_title');
        		var content =  baidu('.input_content');
        		title.each(function(index){
        			items.push({
        				title: this.value,
        				content: content[index].value
        			});
        		});
        		if(instance)
        			instance.dispose();
        		baidu('#tab').get(0).innerHTML = "";
        		renderTab(items);
        	});
        </script>
    </body>
</html>
